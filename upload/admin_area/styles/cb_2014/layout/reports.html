<div class="heading">
    <h2>Reports &amp; Stats</h2>
</div>

<div>
	<div>
		<h3 class="pull-left inline">{lang code="today"}</h3>
		<h3 class="pull-left inline">
			<input type="checkbox" class="ace ace-switch ace-switch-5" id="enableTooltipDaily"/>
		</h3>
	</div>
	<div class="clearfix"></div>
	<div id="daily_chart_id" class="flot_chart">
		<img class="loading-image" src="./styles/cb_2014/images/ajax-loader.gif"/>
	</div>
</div>

<div>
	<div>
		<h3 class="pull-left inline">{lang code="thisweek"}</h3>
		<h3 class="pull-left inline">
			<input type="checkbox" class="ace ace-switch ace-switch-5" id="enableTooltipWeekly"/>
		</h3>
	</div>
	<div class="clearfix"></div>
	<div id="weekly_chart_id" class="flot_chart">
		<img class="loading-image" src="./styles/cb_2014/images/ajax-loader.gif"/>
	</div>
</div>

<div>
	<div>
		<h3 class="pull-left inline">{lang code="thismonth"}</h3>
		<h3 class="pull-left inline">
			<input type="checkbox" class="ace ace-switch ace-switch-5" id="enableTooltipMonthly"/>
		</h3>
	</div>
	<div class="clearfix"></div>
	<div id="monthly_chart_id" class="flot_chart">
		<img class="loading-image" src="./styles/cb_2014/images/ajax-loader.gif"/>
	</div>
</div>

<div class="table-responsive">
	<span><legend>Video Reports</legend></span>
	<table class="table table-striped table-bordered">
		<thead>
			<th>{lang code='alltime'}</th>
			<th>Today's Videos</th>
			<th>{lang code='thisweek'}</th>
			<th>{lang code='lastweek'}</th>
			<th>{lang code='thismonth'}</th>
			<th>{lang code='lastmonth'}</th>
		</thead>
		<tbody class="reports">
			<tr>
				<td><span class="show">Total: <strong>{get_videos count_only=yes}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes"}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing'}</strong></span>
				</td>
				<td><span class="show">Total: <strong>{get_videos count_only=yes date_span=today}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes" date_span=today}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing' date_span=today}</strong></span>
				</td>
				<td><span class="show">Total: <strong>{get_videos count_only=yes date_span=this_week}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes" date_span=this_week}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing' date_span=this_week}</strong></span>
				</td>
				<td><span class="show">Total: <strong>{get_videos count_only=yes date_span=last_week}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes" date_span=last_week}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing' date_span=last_week}</strong></span>
				</td>
				<td><span class="show">Total: <strong>{get_videos count_only=yes date_span=this_month}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes" date_span=this_month}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing' date_span=this_month}</strong></span>
				</td>
				<td><span class="show">Total: <strong>{get_videos count_only=yes date_span=last_month}</strong></span>
					<span class="show">Active: <strong>{get_videos count_only=yes active="yes" date_span=last_month}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='Processing' date_span=last_month}</strong></span>
				</td>
			</tr>
        </tbody>
    </table>
</div>

<div class="table-responsive">
	<span><legend>User Reports</legend></span>
	<table class="table table-striped table-bordered">
		<thead>
		<th>{lang code='alltime'}</th>
			<th>Today's Users</th>
			<th>{lang code='thisweek'}</th>
			<th>{lang code='lastweek'}</th>
			<th>{lang code='thismonth'}</th>
			<th>{lang code='lastmonth'}</th>
		</thead>
		<tbody class="reports">
			<tr>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes}</strong></span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok'}</strong></span>
					<span class="show">Processing: <strong>{get_users count_only=yes status='ToActivate'}</strong></span>
				</td>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes date_span='today'}</strong></span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok' date_span=today}</strong></span>
					<span class="show">Processing: <strong>{get_videos count_only=yes status='ToActivate' date_span=today}</strong></span>
				</td>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes date_span='this_week'}</strong> </span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok' date_span=this_week}</strong></span>
					<span class="show">Processing: <strong>{get_users count_only=yes status='ToActivate' date_span=this_week}</strong></span>
				</td>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes date_span='last_week'}</strong></span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok' date_span=last_week}</strong></span>
					<span class="show">Processing: <strong>{get_users count_only=yes status='ToActivate' date_span=last_week}</strong></span>
				</td>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes date_span=this_month}</strong></span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok' date_span=this_month}</strong></span>
					<span class="show">Processing: <strong>{get_users count_only=yes status='ToActivate' date_span=this_month}</strong></span>
				</td>
				<td>
					<span class="show">Total: <strong>{get_users count_only=yes date_span=last_month}</strong></span>
					<span class="show">Active: <strong>{get_users count_only=yes status='Ok' date_span=last_month}</strong></span>
					<span class="show">Processing: <strong>{get_users count_only=yes status='ToActivate' date_span=last_month}</strong></span>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table-responsive">
	<span><legend>Other Reports</legend></span>
	<table class="table table-striped table-bordered">
		<thead>
			<th>{lang code='comments'}</th>
			<th>Flags</th>
			<th>{lang code='playlists'}</th>
			<th>{lang code='favourites'}</th>
		</thead>
		<tbody class="reports">
			<tr>
				<td>
					<span class="show">Video Comments : <strong>{Comments::getAll(['count'=>true,'type'=>'v'])}</strong></span>
					<span class="show">Photo Comments : <strong>{Comments::getAll(['count'=>true,'type'=>'p'])}</strong></span>
					<span class="show">Collection Comments : <strong>{Comments::getAll(['count'=>true,'type'=>'cl'])}</strong></span>
				</td>
				<td>
					<span class="show">Videos Reported : <strong>{$cbvid->action->count_flagged_objects()}</strong></span>
					<span class="show">Photos Reported : <strong>{$cbphoto->action->count_flagged_objects()}</strong></span>
					<span class="show">Users Reported : <strong>{$userquery->action->count_flagged_objects()}</strong></span>
				</td>
				<td>
					<span class="show">Video PlayList: <strong>{$cbvid->action->count_total_playlist()}</strong></span>
					<span class="show">Videos in Playlist: <strong>{$cbvid->action->count_total_playlist(true)}</strong></span>
				</td>
				<td>
					<span class="show">Favorite Videos: <strong>{$cbvid->action->total_favorites()}</strong></span>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table-responsive">
	<span><legend>Total files and Sizes</legend></span>
	<table class="table table-striped table-bordered">
		<thead>
			<th>Total Files</th>
			<th>Sizes</th>
		</thead>
		<tbody class="reports">
			<tr>
				<td>
					<span class="show">Total Files: <strong>{$vid_dir.count|number_format}</strong></span>
					<span class="show">Total Thumbs: <strong>{$thumb_dir.count|number_format}</strong></span>
					<span class="show">Original Video Files: <strong>{$orig_dir.count|number_format}</strong></span>
					<span class="show">User Thumbs Files: <strong>{$user_thumbs.count|number_format}</strong></span>
					<span class="show">User Background Files: <strong>{$user_bg.count|number_format}</strong></span>
					<span class="show">Category Thumb Files: <strong>{$cat_thumbs.count|number_format}</strong></span>
					<span class="show">DataBase Size: <strong>{$db_size}</strong></span>
				</td>
				<td>
					<span class="show">Folder Size: <strong>{$vid_dir.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$thumb_dir.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$orig_dir.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$user_thumbs.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$user_bg.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$cat_thumbs.size|formatfilesize}</strong></span>
					<span class="show">Folder Size: <strong>{$db_size}</strong></span>
				</td>
			</tr>
		</tbody>
	</table>
</div>


<style type="text/css">
    .flot_chart{
        height: 200px;
        width: 100%;
    }
</style>

<script type="text/javascript">

</script>