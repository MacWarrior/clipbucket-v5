<h2>{lang('active_template')}</h2>

{assign var="selected" value=CBTemplate::getSelectedTemplate()}
{assign var="curtpl" value=CBTemplate::getInstance()->get_template_details($selected)}

<div class="selectedTemplate">

    <div class="row">
        {include file="$layout_dir/blocks/template.html" template=$curtpl selected=true index=0}
    </div>
</div>

{* Listing All Avilable Templates *}
{if $templates && count($templates) > 1}
    <h2>{lang('available_templates')}</h2>
    <div class="availableTemplates">
        <div>
            <div class="row">
                {foreach from=$templates item=template name=template_loop}
                    {if $selected != $template.dir}
                        {include file="$layout_dir/blocks/template.html" template=$template selected=false index=$smarty.foreach.template_loop.iteration}
                    {/if}
                {/foreach}
            </div>
        </div>
    </div>
{/if}
<div class="modal fade" id="delete_code_modal" role="dialog" >
    <div class="modal-dialog" style="width:80%; max-width: 550px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">{lang('confirm')}</h4>
            </div>
            <div class="modal-body">
                <input type="hidden" id="delete_num" value="">
                {lang code='delete_template_confirmation'}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary confirm_delete" data-dismiss="modal"> {lang('confirm')}</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">{lang('cancel')}</button>
            </div>
        </div>
    </div>
</div>
<script>
    const format_date_js = '{get_date_js()}';
    const language = '{$lang_obj->getLang()}';
    const format_display = $.datepicker.regional[language].dateFormat.replace(/\W/g, ' ').replace('mm', 'M');
    let lang=[];
    lang['save'] = '{lang('save')}';
    lang['error_occurred'] = '{lang('error_occurred')}';
    lang['saved_success'] = '{lang('saved_success')}';
    lang['saved_success'] = '{lang('saved_success')}';
    lang['edit'] = '{lang('edit')}';
    lang['end_edition'] = '{lang('end_edition')}';

</script>
