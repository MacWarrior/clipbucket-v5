function display_tab(t){$("ul.nav-tabs:not(.resolutions) li").removeClass("active"),$("ul.nav-tabs:not(.resolutions) li > a[href='"+t+"'").parent().addClass("active"),$("div.tab-content div:not(.resolutions)").removeClass("active"),$(t).addClass("active"),setHash(t)}function setHash(t){window.location.hash=t,$("#main_form").attr("action",t)}$(document).ready(function(){""===window.location.hash?setHash($("ul.nav-tabs:not(.resolutions) li:first a").attr("href")):display_tab(window.location.hash),$("ul.nav-tabs:not(.resolutions) li a").click(function(){setHash($(this).attr("href"))}),$("ul.nav-tabs.resolutions a").click(function(){if(!$(this).parent().hasClass("active")){let t=$(this).attr("href");$("#"+t).siblings().removeClass("active"),$("#"+t).addClass("active")}}),$("#mail_type").change(function(){"mail"==$(this).val()?$(".config_smtp").hide():0==$("#smtp_auth:checked").length?$(".config_smtp:not(.config_smtp_auth)").show():$(".config_smtp").show()}),["video","photo","channel","collection"].forEach(function(t){$("#display_"+t+"_comments").change(function(){let e=$("#"+t+"_comments");$(this).prop("checked")?e.prop("disabled",!1):e.prop("checked",!1).prop("disabled",!0)})}),$("#smtp_auth").change(function(){1==$("#smtp_auth:checked").length?$(".config_smtp_auth").show():$(".config_smtp_auth").hide()}),$("input[name='conversion_type']").change(function(){let t=["stay_mp4","keep_audio_tracks","keep_subtitles"];"mp4"==this.value?t.forEach(function(t){$("#"+t).prop("disabled",!1),$("#"+t+"_hidden").prop("disabled",!0)}):t.forEach(function(t){$("#"+t).prop("disabled",!0),$("#"+t+"_hidden").prop("disabled",!1)})}),$("#discord_error_log").change(function(){let t=$("#discord_webhook_url");$(this).prop("checked")?t.prop("disabled",!1):t.prop("disabled",!0)}),$("#enable_tmdb").change(function(){let t=$("#tmdb_token"),e=$("#tmdb_token_test");$(this).prop("checked")?(t.prop("disabled",!1),e.removeClass("disabled")):(t.prop("disabled",!0),e.addClass("disabled"),t.trigger("focus"))}),$("#tmdb_token").keyup(function(){$("#tmdb_token_test").removeClass("glyphicon-ok glyphicon-remove").addClass("glyphicon-refresh")}),$("#tmdb_token_test").click(function(t){!$(this).hasClass("disabled")&&(t.preventDefault(),$.ajax({url:"/actions/test_tmdb.php",type:"POST",data:{token:$("#tmdb_token").val()},dataType:"json",beforeSend:function(){$("#tmdb_token_test").removeClass("glyphicon-ok glyphicon-remove glyphicon-refresh").html(loading_img)},success:function(t){"OK"===t.msg?$("#tmdb_token_test").html("").removeClass("glyphicon-remove glyphicon-refresh").addClass("glyphicon-ok"):$("#tmdb_token_test").html("").removeClass("glyphicon-refresh glyphicon-ok").addClass("glyphicon-remove")}}))})});
