function initListenerList(){$('input[name="make_default"]').change(function(){$('input[name="make_default"]').not(this).prop("checked",!1),$.ajax({url:"/actions/language_make_default.php",type:"POST",data:$("#default_lang").serialize(),dataType:"json",success:function(e){$("#language_list").html(e.template),$(".close").click(),$(".page-content").prepend(e.msg),initListenerList()}})}),$("#formAdd").on("submit",function(e){e.preventDefault(),$.ajax({url:"/actions/language_add.php",type:"POST",data:$("#formAdd").serialize(),dataType:"json",success:function(e){$("#language_list").html(e.template),$(".close").click(),$(".page-content").prepend(e.msg),initListenerList()}})}),$("#formRestore").on("submit",function(e){e.preventDefault(),$.ajax({url:"/actions/language_restore.php",type:"POST",data:$("#formRestore").serialize(),dataType:"json",success:function(e){$(".close").click(),$("#language_list").html(e.template),$(".page-content").prepend(e.msg),updateRestoreList(),initListenerList()}})})}function initListenerEdit(){$("#form1").on("submit",function(e){e.preventDefault(),$.ajax({url:"/actions/language_update.php",type:"POST",data:$("#form1").serialize(),dataType:"json",success:function(e){$(".close").click(),$("#language_edit").html(e.template),$(".page-content").prepend(e.msg),initListenerEdit()}})})}function updateRestoreList(){$.ajax({url:"/actions/language_restorable_list.php",type:"POST",dataType:"json",success:function(e){$("#div_restore_lang").html(e.template),$(".page-content").prepend(e.msg),initListenerList()}})}function deleteLanguage(e,t){confirm_it("Are you sure you want to delete "+t)&&$.ajax({url:"/actions/language_delete.php",type:"POST",data:{language_id:e},dataType:"json",success:function(e){$(".close").click(),$("#language_list").html(e.template),$(".page-content").prepend(e.msg),updateRestoreList()}})}$(document).ready(function(){initListenerList(),initListenerEdit(),$(".edit_translation").on("click",function(){var e=$(this).data("id");$("#input-"+e).show(),$("#ok-"+e).show(),$("#remove-"+e).show(),$("#edit-"+e).hide()}),$(".cancel_translation").on("click",function(){var e=$(this).data("id");$("#input-"+e).hide(),$("#ok-"+e).hide(),$("#remove-"+e).hide(),$("#edit-"+e).show()}),$(".confirm_update_translation").on("click",function(){var e=$(this).data("id"),t=$("#input-"+e).val(),a=$("#language_id").val();$.ajax({url:"/actions/update_phrase.php",type:"post",data:{id_language_key:e,translation:t,language_id:a},success:function(){$("#"+e).html(t),$("#input-"+e).hide(),$("#ok-"+e).hide(),$("#remove-"+e).hide(),$("#edit-"+e).show()}})})});
