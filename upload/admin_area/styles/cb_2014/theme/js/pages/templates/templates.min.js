var loading_img="<img style='vertical-align:middle' src='"+imageurl+"/ajax-loader.gif'>";$(function(){function a(a,e){var n=a.data("num"),t=$("#path_"+n).val(),n=$("#"+e+"_"+n).val();$.ajax({url:admin_url+"actions/template_save_fields.php",type:"POST",data:{field:e,value:n,path:t},dataType:"json",beforeSend:function(){a.removeClass("glyphicon-save glyphicon-ok glyphicon-remove glyphicon-refresh").html(loading_img)},success:function(e){$(".page-content").prepend(e.msg),e.success?a.html("").removeClass("glyphicon-remove glyphicon-refresh").addClass("glyphicon-ok"):a.html("").removeClass("glyphicon-refresh glyphicon-ok").addClass("glyphicon-remove")}})}$(".copy_default_theme").on("click",function(e){showSpinner(),$.ajax({url:admin_url+"actions/template_copy_default.php",type:"POST",dataType:"json",success:function(e){$(".page-content").prepend(e.msg),window.location.reload()}})}),$(".delete_default_theme").on("click",function(e){$("#delete_code_modal").modal(),$("#delete_code_modal").find("#delete_num").val($(this).data("num"))}),$(".confirm_delete").on("click",function(e){showSpinner();var a=$("#delete_num").val(),a=$("#path_"+a).val();$.ajax({url:admin_url+"actions/template_remove.php",type:"POST",data:{template_path:a},dataType:"json",success:function(e){$(".page-content").prepend(e.msg),hideSpinner(),e.success&&((e=new URL(window.location)).search="",window.location=e.toString())}})}),$(".edit_theme").on("click",function(e){var a=$(this).data("num");$("#description_group_"+a).hasClass("hidden")?($("#description_group_"+a).removeClass("hidden"),$("#description_text_"+a).addClass("hidden"),$("#name_group_"+a).removeClass("hidden"),$("#name_text_"+a).addClass("hidden"),$(this).removeClass("text-primary")):($("#description_group_"+a).addClass("hidden"),$("#name_group_"+a).addClass("hidden"),$("#description_text_"+a).text($("#description_"+a).val()).removeClass("hidden"),$("#name_text_"+a).text($("#name_"+a).val()).removeClass("hidden"),$("#save_description_"+a+",#save_name_"+a).removeClass("glyphicon-ok glyphicon-remove").addClass("glyphicon-save"),$(this).addClass("text-primary"))}),$(".save_name").on("click",function(e){$(this).hasClass("disabled")||(e.preventDefault(),a($(this),"name"))}),$(".save_description").on("click",function(e){$(this).hasClass("disabled")||(e.preventDefault(),a($(this),"description"))})});