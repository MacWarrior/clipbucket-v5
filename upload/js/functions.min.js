var page="/ajax.php",loading_img="<img style='vertical-align:middle' src='"+imageurl+"/ajax-loader.gif'>",loading=loading_img+" Loading...";function Confirm_Delete(t){confirm("Are you sure you want to delete")&&(document.location=t)}function Confirm_Uninstall(t){confirm("Are you sure you want to uninstall this plugin ?")&&(document.location=t)}function confirm_it(t){return!!confirm(t)}function reloadImage(t,e){(img=document.getElementById(e)).src=t+"?"+Math.random()}function load_more(t,e,o,a,n,i,l){$.ajax({beforeSend:function(t){$("#"+o).html("loading")},type:"POST",url:"/ajax.php",data:{limit:t,mode:e,inner_mode:o,cat_id:i,total:l},dataType:"json",success:function(t){t&&($("#"+a).append(t.template),$(n).attr({limit:parseInt(t.count)+parseInt(t.total)})),1==t.limit_exceeds&&n.css("display","none"),"limit_exceeds"==t&&n.css("display","none"),$("#"+o).html("Load more...")}})}function randomString(){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e="",o=0;o<8;o++){var a=Math.floor(Math.random()*t.length);e+=t.substring(a,a+1)}return e}var download=0,total_size=0,cur_speed=0,status_refesh=1,result_page="/actions/file_results.php",download_page="/actions/file_downloader.php",count=0,force_stop=!1,remoteObjID=randomString();function check_remote_url(){$("#remoteUploadBttn").attr("disabled","disabled").hide(),$("#ytUploadBttn").attr("disabled","disabled"),$("#remoteUploadBttnStop").show();var t=$("#remote_file_url").val();if(force_stop=!1,!t||"undefined"==t)return $("#error_msgs").html('<div class="alert alert-danger" role="alert"> Please enter valid remote URL</div>'),$("#remoteUploadBttn").attr("disabled","").show(),$("#remoteUploadBttnStop").attr("disabled","disabled").hide(),!1;var e=getName(t),o=$.ajax({url:download_page,type:"POST",data:{file:t,file_name:e},dataType:"json",beforeSend:function(){status_update(),$("#loading").html('<div style="float:left;display:inline-block;"><img src="'+imageurl+'/ajax-loader.gif"></div><div style="float:left;line-height:16px;padding-left:5px;">'+lang.remoteUploadFile+'</div><div class="clear"></div>'),$("#remoteFileName").replaceWith('"'+e+'"')},success:function(t){t.error&&(force_stop=!0,$("#remoteUploadBttn").attr("disabled",""),$("#ytUploadBttn").attr("disabled",""),alert(t.error)),$("#loading").html("");var e=t.vid;$.post("/actions/file_uploader.php",{getForm:"get_form",title:$("#remote_file_url").val(),objId:remoteObjID,vid:e},function(t){$("#remoteUploadBttnStop").hide(),$("#ytUploadBttn").hide(),$("#remoteForm").append(t),$("#cbSubmitUpload"+remoteObjID).before('<span id="updateVideoDataLoading" style="margin-right:5px"></span>').attr("disabled","").attr("value",lang.saveData).attr("onClick","doUpdateVideo('#uploadForm"+remoteObjID+"','"+remoteObjID+"')").after('<input type="hidden" name="videoid" value="'+e+'" id="videoid" />').after('<input type="hidden" name="updateVideo" value="yes" id="updateVideo" />');var o=!1;$("#remoteForm").find("#list_tags").tagit({singleField:!0,readOnly:!1,singleFieldNode:$("#remoteForm").find("#tags"),animate:!0,caseSensitive:!1,availableTags:available_tags,beforeTagAdded:function(t,e){if(e.tagLabel.length<=2)return o||(o=!0,alert(tag_too_short)),!1;o=!1}})},"text")}});$("#remoteUploadBttnStop").click(function(){o.abort(),force_stop=!0,$("#loading").html(""),$("#remoteDownloadStatus").hide(),$(this).hide(),$("#remoteUploadBttn").attr("disabled","").show()})}var hasLoaded=!1,perc_download=0;function status_update(){var t=getName($("#remote_file_url").val());$.ajax({url:result_page,type:"POST",data:{file_name:t},dataType:"json",success:function(t){t&&(e=t.total_size,o=t.downloaded,a=t.total_size_fm,n=t.downloaded_fm,r=t.speed_download,t.time_eta,i=t.time_eta_fm,t.time_took,l=t.time_took_fm,t=1<r/1024/1024?Math.round(r/1024/1024)+" Mbps":Math.round(r/1024)+" Kbps",perc_download=Math.round(o/e*100),$("#remoteDownloadStatus").show(),$("#prog_bar").animate({width:perc_download+"%"},1e3),$("#prog_bar").html(perc_download+"%"),$("#dspeed").html(t),$("#eta").html(i),$("#status").html(n+" of "+a));var e,o,a,n,i,l,r=1e3*status_refesh;perc_download<100&&!force_stop?setTimeout(function(){status_update()},r):100==perc_download&&1<e&&$("#time_took").html("Time Took : "+l)}})}function upload_file(t,e){$.post("/actions/file_downloader.php",{file_url:t,file_name:e},function(t){t?submit_upload_form():alert("No data")},"text")}function delete_item(t,e,o,a){$("#"+t+"-"+e).click(function(){confirm(o)&&(document.location=a)})}function delete_video(t,e,o,a){return delete_item(t,e,o,a)}function get_video(t,e){$(e).css("display","block"),$(e).html(loading),$(e).html(loading),$.post(page,{mode:t},function(t){$(e).html(t)},"text")}function getAjaxPhoto(t,e){$(e).css("display","block");var o=$(e).html();$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"loadAjaxPhotos",photosType:t},beforeSend:function(){$(e).html(loading)},success:function(t){t.failed&&$(e).html(o),t.completed&&$(e).html(t.photoBlocks)}})}function rating_over(t,e){"disabled"!=e&&$("#rating_result_container").html(t)}function rating_out(t,e){"disabled"!=e&&$("#rating_result_container").html(t)}function submit_share_form(t,e){$("#share_form_results").css("display","block"),$("#share_form_results").html(loading),$.post(page,{mode:"share_object",type:e,users:$("#ShareUsers").val(),message:$("#message").val(),id:$("#objectid").val()},function(t){t?$("#share_form_results").html(t):alert("No data")},"text")}function flag_object(t,e,o){$("#flag_form_result").css("display","block"),$("#flag_form_result").html(loading),$.post(page,{mode:"flag_object",type:o,flag_type:$("#"+t+" select option:selected").val(),id:e},function(t){t?($("#flag_form_result").css("display","block"),$("#flag_form_result").html(t)):alert("No data")},"text")}function slide_up_watch_video(t){"block"!=$(".video_action_result_boxes "+t).css("display")&&$(".video_action_result_boxes > *").slideUp()}function add_to_fav(t,e){$("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(loading),$.post(page,{mode:"add_to_fav",type:t,id:e},function(t){t?($("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(t)):alert("No data")},"text")}function subscriber(t,e,o){$("#"+o).css("display","block"),$("#"+o).html(loading),$.post(page,{mode:e,subscribe_to:t},function(t){t?($("#"+o).css("display","none"),$("#"+o).html(t),$("#result_cont").html(t),$("#result_cont").show(0).delay(3e3).fadeOut("slow")):alert("No data")},"text")}function add_friend(t,e){$("#"+e).css("display","block"),$("#"+e).html(loading),$.post(page,{mode:"add_friend",uid:t},function(t){t?($("#result_cont").append(t),$("#result_cont").show(0).delay(3e3).fadeOut("slow")):alert("No data")},"text")}function block_user(t,e){$("#"+e).css("display","block"),$("#"+e).html(loading),$.post(page,{mode:"ban_user",user:t},function(t){t?($("#"+e).css("display","block"),$("#"+e).html(t)):alert("No data")},"text")}function delete_comment(o){$.post(page,{mode:"delete_comment",cid:o},function(t){var e;t?(t.msg&&(void 0===t.nb&&(t.nb=1),$(".reply-"+o).fadeOut("slow"),$("#comment_"+o).fadeOut("slow"),$("#comment_msg_output").html(t.msg+" !"),$("#comment_msg_output").fadeIn("slow"),e=parseInt($("#comment_count").html()),$("#comment_count").html((e-t.nb).toString()),setTimeout(function(){$("#comment_msg_output").fadeOut()},3e3)),t.err&&alert(t.err)):alert("No data")},"json")}function get_group_info(t,e){"none"==$(t).css("display")&&($("#group_info_cont > div").slideUp(),$("#group_info_cont "+t).slideDown(),$(".group_detail_tabs .selected").removeClass("selected"),$(e).addClass("selected"))}var collectionID,current_menu="";function show_menu(t,e){if(window.location.hash&&e)return show_menu(window.location.hash.substr(9),!1),!1;window.location.hash="current_"+t,current_menu!=t&&hide_menu(),$("#"+t).show(),current_menu=t,$("."+t).addClass("selected")}function hide_menu(){if(""!=current_menu)return $("#"+current_menu).hide(),$("."+current_menu).removeClass("selected"),!0}function to_reply(t){$("#reply_to").val(t),window.location="#reply",$("#reply_to_img").fadeIn(1500),setTimeout(function(){$("#reply_to_img").fadeOut(500)},7e3)}function spam_comment(e){$.post(page,{mode:"spam_comment",cid:e},function(t){t?(t.msg&&($("#comment_"+e).hide(),$("#spam_comment_"+e).fadeIn("slow")),t.err&&($("#comment_err_output").fadeIn("slow"),$("#comment_err_output").html(t.err))):alert("No data")},"json")}function reply_box(e){$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"get_reply_box",cid:e},success:function(t){$(".reply-box-"+e).html(t.form).slideDown("slow"),$("#reply_box_"+e).focus()}})}function remove_reply_box(t){$(".reply-box-"+t).slideUp("slow")}function show_replies(t){$(".more-comments-"+t).show()}function swap_auto_play(){"true"==$.cookie("auto_play_playlist")?(set_cookie_secure("auto_play_playlist","false"),window.location=document.location,$("#ap_status").html("off")):(set_cookie_secure("auto_play_playlist","true"),window.location=document.location,$("#ap_status").html("on"))}function collection_actions(e,t,o,a,n,i){switch($(a).css("display","block"),$(a).html(loading),t){case"add_new_item":$.post("actions/add_to_collection.php",{mode:t,cid:$("#"+e+" #collection").val(),obj_id:o,type:n},function(t){t?t.msg&&($(a).html(t.msg),$(a).find(".container").css({maxWidth:"100%"})):alert("No Data returned")},"json");break;case"remove_collection_item":$("#"+e).hide(),$.post(page,{mode:t,obj_id:o,type:n,cid:i},function(t){t?(t.err&&(alert(t.err),$(a+"_"+o).hide(),$("#"+e+o).show()),t.msg&&($(a).html(t.msg),$("#"+e+"_"+o).slideUp(350))):(alert("No Data Returned"),$(a+"_"+o).hide(),$("#"+e).show())},"json")}}function openURL(t){document.location=t}function get_item(e,t,o,a,n){var i=$(e).html();$(e).html(loading),$.post(page,{mode:"get_item",ci_id:t,cid:o,type:a,direction:n},function(t){t?(construct_url(new Array(a,t.cid,t.key)),$("#collectionItemView").html(t.content)):(alert("No "+a+" returned"),$(e).text(i))},"json")}function construct_url(t){t="yes"==Seo?"#!/item/"+t[0]+"/"+t[1]+"/"+t[2]:"#!?item="+t[2]+"&type="+t[0]+"&collection="+t[1];window.location.hash=t}function onReload_item(){var t,e;window.location.hash&&(t=window.location.href,"yes"==Seo?(e=RegExp("/item.+#!")).test(t)&&(t=t.replace(e,""),window.location.href=t):(e=RegExp("\\?item.+#!")).test(t)&&(t=t.replace(e,""),window.location.href=t))}function pagination(e,t,o,a){var n=$(e),i=(n.id,n.parent()),l=n.html();(i.attr("id")?parent:(i.attr("id","loadMoreParent"),i)).attr("id");newCall=$.ajax({url:page,type:"post",dataType:"json",data:{mode:"moreItems",page:a,cid:t,type:o},beforeSend:function(){n.removeAttr("onClick"),n.html(loading)},success:function(t){t.error?("BUTTON"==e.tagName&&n.attr("disabled","disabled"),n.removeAttr("onClick"),n.html("No more "+o)):($("#collectionItemsList").append(t.content),$("#NewPagination").html(t.pagination),n.html(l))}})}function ajax_add_collection(t){var e=t.form.id,e=$("#"+e),o=$(t),a=o.html(),n=$("#CollectionResult");$.ajax({url:page,type:"post",dataType:"json",data:"mode=add_collection&"+e.serialize(),beforeSend:function(){"block"==n.css("display")&&n.slideUp("fast"),o.attr("disabled","disabled"),o.html(loading)},success:function(t){t.msg?($("#CollectionDIV").slideUp("fast"),n.html(t.msg).slideDown("fast"),collectionID=t.id):(n.html(t.err).slideDown("fast"),o.removeAttr("disabled"),o.html(a))}})}function getDetails(t){var t=getInputs(t),o=new Array(t.length);return $.each(t,function(t,e){query=$("#"+e.id+" *").serialize(),query+="&mode=ajaxPhotos",o[t]=query}),o}function getName(t){return t.substring(t.lastIndexOf("/")+1)}function viewRatings(t,e){var o=$(t),a=o.html();document.getElementById("RatingStatContainer")?$("#RatingStatContainer").toggle():loadAjax=$.ajax({url:page,type:"post",dataType:"text",data:{mode:"viewPhotoRating",photoid:e},beforeSend:function(){o.html(loading)},success:function(t){o.html(a),t?$("<div />").attr("id","RatingStatContainer").addClass("clearfix").css({padding:"8px",font:"normal 11px Tahoma",border:"1px solid #ccc",backgroundColor:"#FFF"}).html(t).fadeIn(350).insertAfter(o):(o.removeAttr("onclick"),alert("Photo has not recieved any rating yet."))}})}function showAdvanceSearch(t,e,o,a){var t=$("#"+t),e=$("#"+e),n=$("#SearchType").val();t.toggle(),e.toggle(),"block"==e.css("display")&&e.children().hide().filter("#"+n).show(),$("."+o).toggleClass(a)}function toggleCategory(t,e){var t=$(t),o=t.next();o.is(":visible")?(o.slideUp(350),t.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):(o.slideDown(350),t.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"))}function loadObject(t,e,o,a){var n=new Array(4),i=(n.this=t,n.type=e,n.objID=o,n.container=a,$(n.this));i.parent().css("position","relative"),$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"channelFeatured",contentType:n.type,objID:n.objID},beforeSend:function(){i.find("img").animate({opacity:.5}),$("#"+n.container).animate({opacity:.5})},success:function(t){t.error?(i.find("img").animate({opacity:1}),$("#"+n.container).animate({opacity:1}),alert(t.error)):(i.parent().children(".selected").removeClass("selected"),i.addClass("selected"),i.find("img").animate({opacity:1}),$("#"+n.container).html(t.data),$("#"+n.container).animate({opacity:1}))}})}var comments_voting="no";function getComments(t,e,o,a,n,i,l){$("#comments").html("<div style='padding:5px 0px;'>"+loading+"</div>"),$.ajax({type:"POST",url:page,data:{mode:"getComments",page:a,type:t,type_id:e,object_type:i,last_update:o,total_comments:n,comments_voting:comments_voting,admin:l},success:function(t){$("#comments").hide(),$("#comments").html(t),$("#comments").fadeIn("slow")},dataType:"text"})}function getAllComments(t,e,o,a,n,i,l){$("#userCommentsList").html("<div style='padding:5px 0px;'>"+loading+"</div>"),$.ajax({type:"POST",url:page,data:{mode:"getComments",page:a,type:t,type_id:e,object_type:i,last_update:o,total_comments:n,comments_voting:comments_voting,admin:l},success:function(t){$("#userCommentsList").html(t)},dataType:"text"})}function checkUncheckAll(t){for(var e=t.form,o=0,o=0;o<e.length;o++)"checkbox"==e[o].type&&"checkall"!=e[o].name&&0==e[o].disabled&&(e[o].checked=t.checked)}function rate(t,e,o){$.post("/ajax.php",{mode:"rating",id:t,rating:e,type:o},function(t){t?$("#rating_container").html(t):alert("No data")},"text")}function setPageHash(t){t=t.replace(baseurl,"");window.location.hash="#!"+t}function callURLParser(){var t=window.location.href.match(/(\#![/a-zA-Z0-9=\.\&\-\_\?]*)/g);t&&(t=t[t.length-1])&&(window.location.href=t.replace("#!",""))}var StringMaker,ua=navigator.userAgent.toLowerCase(),keyStr=(StringMaker=0<=ua.indexOf(" chrome/")||0<=ua.indexOf(" firefox/")||0<=ua.indexOf(" gecko/")?function(){this.str="",this.length=0,this.append=function(t){this.str+=t,this.length+=t.length},this.prepend=function(t){this.str=t+this.str,this.length+=t.length},this.toString=function(){return this.str}}:function(){this.parts=[],this.length=0,this.append=function(t){this.parts.push(t),this.length+=t.length},this.prepend=function(t){this.parts.unshift(t),this.length+=t.length},this.toString=function(){return this.parts.join("")}},"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");function encode64(t){for(var e,o,a,n,i,l,r=new StringMaker,d=0;d<t.length;)a=(e=t.charCodeAt(d++))>>2,n=(3&e)<<4|(e=t.charCodeAt(d++))>>4,i=(15&e)<<2|(o=t.charCodeAt(d++))>>6,l=63&o,isNaN(e)?i=l=64:isNaN(o)&&(l=64),r.append(keyStr.charAt(a)+keyStr.charAt(n)+keyStr.charAt(i)+keyStr.charAt(l));return r.toString()}function decode64(t){var e,o,a,n,i,l,r=new StringMaker,d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)a=keyStr.indexOf(t.charAt(d++)),e=(15&(n=keyStr.indexOf(t.charAt(d++))))<<4|(i=keyStr.indexOf(t.charAt(d++)))>>2,o=(3&i)<<6|(l=keyStr.indexOf(t.charAt(d++))),r.append(String.fromCharCode(a<<2|n>>4)),64!=i&&r.append(String.fromCharCode(e)),64!=l&&r.append(String.fromCharCode(o));return r.toString()}function add_comment_js(t){$("#add_comment_result").css("display","block"),$("#add_comment_button").val(lang_loading),$("#add_comment_button").attr("disabled",!0),$(".add-reply").attr("disabled",!0);t=$("#"+t).serialize()+"&mode=add_comment";$.post(page,t,function(t){t?($("#add_comment_result").css("display","block"),""!=t.err&&null!=t.err&&($("#comment_err_output").fadeIn(),$("#comment_err_output").html(t.err),setTimeout(function(){$("#comment_err_output").fadeOut()},1e4),"Mailer Error"!=t.err.substring(0,12))&&clear_comment_form(),""!=t.msg&&$("#comment_box").val(""),t.cid&&($(".no-comments").remove(),get_the_comment(t.cid,t.type_id,"#comments-ul"),t=parseInt($("#comment_count").html()),$("#comment_count").html((t+1).toString()))):alert("No data")},"json")}function get_the_comment(e,t,o){$.post(page,{mode:"get_comment",cid:e,type_id:t},function(t){t?t.parent_id?($(".reply-box-"+t.parent_id).hide(),$(".comments-reply-"+t.parent_id).append(t.li_data).slideDown(),$("html, body").animate({scrollTop:$("#reply-"+e).offset().top},1e3),comment_transition(".reply-",e)):$(t.li_data).hide().prependTo("#comments-ul").slideDown("slow"):alert("No data"),clear_comment_form()},"json")}function reply_box(t,e,o){var a=$(document).find("#says_"+t).attr("speaker"),n=(n=(n=(n=(n=(n=(n=(n='<form name="reply_form" method="post" id="reply_form_'+t+'" onsubmit="return false;">')+('<input type="hidden" name="reply_to" id="reply_to" value="'+t+'">')+('<input type="hidden" name="obj_id" id="obj_id" value="'+o+'">'))+('<input type="hidden" name="type" value="'+e+'" />')+'<div class="textarea-comment clearfix">')+('<textarea name="comment" id="reply_box_'+t+'" class="form-control" placeholder="'+lang_reply_to+" "+a+'..."></textarea>'))+('<i class="remove-'+t+' remove-icon" onclick="remove_reply_box('+t+')">')+'<span style="color:#006dcc;cursor:pointer">')+'<strong class="icon-close" ></strong>'+"</span>")+"</i>"+"</div>")+('<input type="button" name="add_reply" id="add_reply_button_'+t+'" class="btn btn-primary pull-right add-reply" onclick="add_comment_js(\'reply_form_'+t+'\')" value="'+lang_reply+'">')+"</form>";$(".reply-box-"+t).html(n).slideDown("slow"),$("#reply_box_"+t).focus()}function comment_transition(t,e){$(t+e).addClass("border-transition"),setTimeout(function(){$(t+e).removeClass("border-transition")},3e3)}function clear_comment_form(){$("#add_comment_button").val(lang_add_comment),$("#add_comment_button").attr("disabled",!1),$(".add-reply").attr("disabled",!1)}function isValidEmail(t){return!!t.match(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/)&&t}function set_cookie_secure(t,e){"https:"!==location.protocol?document.cookie=t+"="+e+";path=/;samesite=strict;":document.cookie=t+"="+e+";secure;path=/;samesite=strict;"}function age_disclaimer(t){t?($("#disclaimer").hide(),$("#container").removeClass("blur"),set_cookie_secure("age_restrict","checked")):window.location="https://www.google.com"}