function getInfoTmdb(e,t,i,n,s,a,o){showSpinner(),$.ajax({url:baseurl+"actions/info_tmdb.php",type:"POST",data:{videoid:e,video_title:i,type:t,page:n,sort:s,sort_order:a,selected_year:o},dataType:"json",success:function(e){hideSpinner();var t=$("#myModal");t.html(e.template),t.modal(),$(".page-content").prepend(e.msg)}})}function saveInfoTmdb(e,t){showSpinner(),$.ajax({url:baseurl+"actions/import_tmdb.php",type:"POST",data:{tmdb_video_id:e,videoid:videoid,type:t},dataType:"json",success:function(e){0==e.success?($(".close").click(),hideSpinner(),$(".page-content").prepend(e.msg)):location.reload()}})}function pageInfoTmdb(e){let t,i;0<$(".icon-sort-up").length?(t=$(".icon-sort-up").data("type"),i="ASC"):0<$(".icon-sort-down").length&&(t=$(".icon-sort-down").data("type"),i="DESC"),getInfoTmdb(videoid,$("#type_tmdb").val(),$("#search_title").val(),e,t,i,$("#selected_year").val())}function showSpinner(){$(".taskHandler").show()}function hideSpinner(){$(".taskHandler").hide()}function editTitle(e){$("#buttons-"+e).css("display","inline"),$("#edit_sub_"+e).css("display","inline"),$("#span_sub_"+e).hide()}function cancelEditTitle(e){$("#buttons-"+e).hide(),$("#edit_sub_"+e).hide(),$("#span_sub_"+e).show()}function saveSubtitle(e){showSpinner(),$.ajax({url:baseurl+"actions/subtitle_edit.php",type:"POST",data:{title:$("#edit_sub_"+e).val(),videoid:videoid,number:e},dataType:"json",success:function(e){$("#subtitles").html(e.template),hideSpinner(),$(".close").click(),$(".manage-page").prepend(e.msg)}})}function deleteSubtitle(e){showSpinner(),confirm_it(text_confirm_sub_file.replace("%s",e))&&$.ajax({url:baseurl+"actions/subtitle_delete.php",type:"POST",data:{number:e,videoid:videoid},dataType:"json",success:function(e){$("#subtitles").html(e.template),$(".close").click(),$(".manage-page").prepend(e.msg),hideSpinner()}})}$(function(){$("[id^=tags]").each(function(e){init_tags(this.id,available_tags,"#list_"+this.id)}),$("#list_video_users").tagit({singleField:!0,fieldName:"tags",readOnly:!1,singleFieldNode:$("#video_users"),animate:!0,caseSensitive:!1,allowSpaces:allow_username_spaces,beforeTagAdded:function(e,t){if(t.tagLabel.length<=2)return alert_shown||(alert_shown=!0,alert(tag_too_short)),!1;alert_shown=!1}}),$('[name="broadcast"]').off("click").on("click",function(){("unlisted"===$(this).val()?($(this).closest("form").find("#video_password").attr("disabled",!1).parent().slideDown(),$(this).closest("form").find("#video_users")):"private"===$(this).val()?($(this).closest("form").find("#video_users").attr("disabled",!1).parent().slideDown(),$(this).closest("form").find("#video_password")):($(this).closest("form").find("#video_password").attr("disabled","disabled").parent().slideUp(),$(this).closest("form").find("#video_users"))).attr("disabled","disabled").parent().slideUp()}).trigger("click"),$("#button_info_tmdb").on("click",function(e){var t=$("#title").val();getInfoTmdb(videoid,"movie",t,1)}),$(".formSection h4").on({click:function(e){e.preventDefault(),$(this).find("i").hasClass("glyphicon-chevron-down")?$(this).find("i").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"):$(this).find("i").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"),$(this).next().toggleClass("hidden")}}),$("#upload_thumbs").on("click",function(e){e.preventDefault();var i=new FormData;$.each($("#new_thumbs")[0].files,function(e,t){i.append("vid_thumb[]",t)}),$.ajax("upload_thumb.php?video="+videoid,{type:"POST",contentType:!1,processData:!1,cache:!1,data:i,success:function(e){}})}),$("#upload_thumbs_poster").on("click",function(e){e.preventDefault();var i=new FormData;$.each($("#new_thumbs_poster")[0].files,function(e,t){i.append("vid_thumb_poster[]",t)}),$.ajax("upload_thumb.php?video="+videoid,{type:"POST",contentType:!1,processData:!1,cache:!1,data:i,success:function(){location.reload()}})}),$("#upload_thumbs_backdrop").on("click",function(e){e.preventDefault();var i=new FormData;$.each($("#new_thumbs_backdrop")[0].files,function(e,t){i.append("vid_thumb_backdrop[]",t)}),$.ajax("upload_thumb.php?video="+videoid,{type:"POST",contentType:!1,processData:!1,cache:!1,data:i,success:function(e){location.reload()}})})});